<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>localForage by mozilla</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>localForage</h1>
        <p>Offline storage, improved.</p>
        <p class="view"><a href="https://github.com/mozilla/localForage">View the Project on GitHub <small>mozilla/localForage</small></a></p>
        <ul>
          <li><a href="https://github.com/mozilla/localForage/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/mozilla/localForage/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/mozilla/localForage">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="localforage" class="anchor" href="#localforage"><span class="octicon octicon-link"></span></a>localForage</h1>

<p>localForage is a handy library that improves the offline experience of your web
app by using asynchronous storage (via IndexedDB or WebSQL where available) but
with a simple, <code>localStorage</code>-like API.</p>

<p>localForage includes a localStorage-backed fallback store for browsers with no
IndexedDB or WebSQL support. This means that asynchronous storage is available
in Chrome, Firefox, and Safari (including Safari Mobile).</p>

<h2>
<a name="browser-support" class="anchor" href="#browser-support"><span class="octicon octicon-link"></span></a>Browser Support</h2>

<p>All of 'em. Worst-case localStorage fallback will be used, but asynchronous
storage will be used for:</p>

<ul>
<li>Android Browser (2.1+)</li>
<li>Blackberry (7+)</li>
<li>Chrome (23+)</li>
<li>Chrome for Android (32+)</li>
<li>Firefox (10+)</li>
<li>Firefox for Android (25+)</li>
<li>IE (10+)</li>
<li>IE Mobile (10+)</li>
<li>Opera (15+)</li>
<li>Opera Mobile (11+)</li>
<li>Safari (3.1+)</li>
</ul><h2>
<a name="callbacks" class="anchor" href="#callbacks"><span class="octicon octicon-link"></span></a>Callbacks</h2>

<p>Because localForage uses async storage, it has an async API. It's otherwise
exactly the same as the
<a href="https://hacks.mozilla.org/2009/06/localstorage/">localStorage API</a>.</p>

<pre><code>// In localStorage, we would do:
localStorage.setItem('key', JSON.stringify('value'));
doSomethingElse();

// With localForage, we use callbacks:
localForage.setItem('key', 'value', doSomethingElse);
</code></pre>

<p>Similarly, please don't expect a return value from calls to
<code>localForage.getItem()</code>. Instead, use a callback:</p>

<pre><code>// Synchronous; slower!
var value = JSON.parse(localStorage.getItem('key'));
alert(value);

// Async, fast, and non-blocking!
localForage.getItem('key', alert);
</code></pre>

<p>Also of note is that localForage will automatically convert the values you
get and set to JSON if you happen to be using localStorage as a backend. You
don't have to pollute your code with <code>JSON.stringify()</code> and <code>JSON.parse</code> calls!</p>

<p>If you try to read a key that hasn't been stored yet, <code>null</code> will be returned
in the callback.</p>

<h2>
<a name="promises" class="anchor" href="#promises"><span class="octicon octicon-link"></span></a>Promises</h2>

<p>Promises are pretty cool! If you'd rather use promises than callbacks,
localForage supports that too:</p>

<pre><code>function doSomethingElse(value) {
    console.log(value);
}

// With localForage, we allow promises:
localForage.setItem('key', 'value').then(doSomethingElse);
</code></pre>

<p>localForage relies on native <a href="http://www.promisejs.org/">ES6 Promises</a>, but
<a href="https://github.com/jakearchibald/ES6-Promises">ships with an awesome polyfill</a>
for browsers that don't yet support ES6 Promises natively.</p>

<h2>
<a name="forcing-localstorage" class="anchor" href="#forcing-localstorage"><span class="octicon octicon-link"></span></a>Forcing localStorage</h2>

<p>For development, it can be easier to use the
slower--but easier to debug--localStorage driver. Because localStorage can
easily be inspected from the console, we allow for this with a simple global
variable assignment: <code>window._FORCE_LOCALSTORAGE = true;</code>. If this is set to
any truthy value, localStorage will be used regardless of driver.</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/mozilla">mozilla</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>